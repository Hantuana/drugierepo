dodany smart, zmodyfikowany w github
